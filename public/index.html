<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Front Page</title>
  <link rel="stylesheet" href="static/index.css">
</head>

<body>
  <div class="login-page">

    <form id="loginDisplay" class="login">
      <h1>Login</h1>
      <labal>Username:</labal>
      <input id="username_login" class="username" type="text" name="username" placeholder="Username..." autocomplete="off"
        value="" required><br>
      <labal>Password:</labal>
      <input id="password_login" class="password" type="password" name="password" placeholder="Password..."
        autocomplete="off" value="" required><br>
      <input id="btnLogin" class="submit" value="Login">
      <input id="register" class="submit" type="button" value="Sign up">
      <br><br><br>
      <p id="txtResult_login"></p>
    </form>



    <form id="registerDisplay" class="register">

      <h1>Sign up</h1>

      <labal>Email:</labal>
      <input id="email_register" class="email" type="email" name="email" placeholder="Email..." autocomplete="off"
        value="" required><br>

      <labal>Username:</labal>
      <input id="username_register" class="username" type="text" name="username" placeholder="Username..."
        autocomplete="off" value="" required><br>

      <labal>Password:</labal>
      <input id="password_register" class="password" type="password" name="password" placeholder="Password..."
        autocomplete="off" value="" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
        title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters"
        required><br>

      <labal>Confirm password:</labal>
      <input id="confirm_password_register" class="confirm-password" type="password" name="confirm-password"
        placeholder="Confirm password..." autocomplete="off" value="" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
        title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters"
        required><br>

      <input id="btnCreate" class="submit" value="Create user">
      <input id="returnBtn" class="submit" type="button" value="Return">
      <br><br><br>
      <p id="txtResult_register"> </p>

    </form>

  </div>

</body>

<script src="js/login.js"></script>
<script>


  let register = document.getElementById("register");
  let returnBtn = document.getElementById("returnBtn");
  let registerDisplay = document.getElementById("registerDisplay");
  let loginDisplay = document.getElementById("loginDisplay");
  let email_register = document.getElementById('email_register');
  let username_register = document.getElementById('username_register');
  let password_register = document.getElementById('password_register');
  let confirm_password_register = document.getElementById('confirm_password_register');
  let password_login = document.getElementById("password_login");
  let btnLogin = document.getElementById("btnLogin");
  let btnCreate = document.getElementById("btnCreate");
  let txtResult_register = document.getElementById("txtResult_register");
  let username_login = document.getElementById("username_login");
  let txtResult_login = document.getElementById("txtResult_login");

  confirm_password_register.addEventListener("keyup", function (event) {
    // Number 13 is the "Enter" key on the keyboard
    if (event.keyCode === 13) {
      // Cancel the default action, if needed
      event.preventDefault();
      // Trigger the button element with a click
      document.getElementById("btnCreate").click();
    }
  });

  register.addEventListener("click", function () {
    password_login.value = "";
    username_login.value = "";
    txtResult_login.innerHTML = "";
    registerDisplay.style.display = "block";
    loginDisplay.style.display = "none";
  });
  returnBtn.addEventListener("click", function () {
    email_register.value = "";
    username_register.value = "";
    password_register.value = "";
    confirm_password_register.value = "";
    txtResult_register.innerHTML = "";
    registerDisplay.style.display = "none";
    loginDisplay.style.display = "block";
  });

  password_login.addEventListener("keyup", function (event) {
    // Number 13 is the "Enter" key on the keyboard
    if (event.keyCode === 13) {
      // Cancel the default action, if needed
      event.preventDefault();
      // Trigger the button element with a click
      document.getElementById("btnLogin").click();
    }
  });


  let password = document.getElementById("password")
  let confirm_password = document.getElementById("confirm-password");

  function validatePassword() {
    if (password.value != confirm_password.value) {
      confirm_password.setCustomValidity("Passwords Don't Match");
    } else {
      confirm_password.setCustomValidity('');
    }
  }

  password.onchange = validatePassword;
  confirm_password.onkeyup = validatePassword;
</script>

</html>